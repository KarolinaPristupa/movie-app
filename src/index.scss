$bg-top: #130713;
$bg-bot: #0b0710;
$pink:   #630443;
$rose:   #8a1963;
$violet: #3b0a9f;
$plum:   #4f06b8;
$glow: rgba(221, 38, 221, 0.42);

$blur: 70px;
$stars1-opacity: 0.5;
$stars2-opacity: 0.3;
$stars1-size: 1.2px;
$stars2-size: 0.8px;

$noise-uri: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='64' height='64' viewBox='0 0 64 64'>\
  <filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='1' seed='8'/></filter>\
  <rect width='100%' height='100%' filter='url(#n)' opacity='0.025'/>\
</svg>");

.aurora-bg {
  position: relative;
  min-height: 100vh;
  color: #fff;
  overflow: hidden;
  isolation: isolate;
  background:
          radial-gradient(1200px 800px at 70% 35%, #300849 0%, transparent 60%),
          linear-gradient(180deg, $bg-top 0%, $bg-bot 100%);

  &::before {
    content: "";
    position: absolute; inset: -20% -20% -10% -20%;
    background:
            radial-gradient(1000px 700px at 80% 30%, rgba(0,0,0,0) 0%, rgba(0,0,0,0.22) 65%, rgba(0,0,0,0.5) 100%);
    pointer-events: none;
    z-index: 0;
  }

  .aurora-layer {
    position: absolute; inset: -10% -20% -10% -20%;
    z-index: 1;
    pointer-events: none;
    filter: blur($blur) contrast(0.96) saturate(1.02);
    mix-blend-mode: screen;
    background:
            radial-gradient(620px 380px at 78% 30%, rgba($pink, 0.82) 0%, rgba($pink, 0.42) 32%, transparent 64%),
            radial-gradient(560px 340px at 62% 46%, rgba($violet, 0.8) 0%, rgba($violet, 0.38) 36%, transparent 68%),
            radial-gradient(520px 360px at 58% 58%, rgba($rose, 0.7) 0%, rgba($rose, 0.36) 38%, transparent 70%),
            radial-gradient(460px 300px at 70% 68%, rgba($plum, 0.5) 0%, transparent 68%),
            radial-gradient(720px 420px at 40% 72%, rgba(#4a0e38, 0.28) 0%, transparent 74%),
            radial-gradient(800px 520px at 50% 40%, rgba(255,255,255,0.14) 0%, transparent 62%);
    animation: auroraDrift 22s ease-in-out infinite alternate;
  }

  .aurora-glow {
    position: absolute; inset: -20% -15% -20% -15%;
    z-index: 1;
    pointer-events: none;
    filter: blur($blur * 0.8);
    mix-blend-mode: screen;
    background:
            radial-gradient(740px 480px at 26% 42%, $glow 0%, rgba(255,255,255,0) 62%);
    animation: glowShift 26s ease-in-out infinite alternate;
  }

  .stars {
    position: absolute; inset: 0;
    pointer-events: none;
    z-index: 2;
    mix-blend-mode: screen;
    filter: blur(0.2px);
    opacity: 0.85;
    background-repeat: no-repeat;
    animation: starsTwinkle 9s ease-in-out infinite alternate;

    &--near {
      background-image:
              radial-gradient($stars1-size $stars1-size at 8% 12%, rgba(255,255,255,$stars1-opacity) 99%, transparent 100%),
              radial-gradient($stars1-size $stars1-size at 15% 28%, rgba(255,220,255,$stars1-opacity) 99%, transparent 100%),
              radial-gradient($stars1-size $stars1-size at 33% 36%, rgba(255,240,255,$stars1-opacity) 99%, transparent 100%),
              radial-gradient($stars1-size $stars1-size at 55% 15%, rgba(255,255,255,$stars1-opacity) 99%, transparent 100%),
              radial-gradient($stars1-size $stars1-size at 78% 18%, rgba(255,235,255,$stars1-opacity) 99%, transparent 100%),
              radial-gradient($stars1-size $stars1-size at 92% 12%, rgba(255,255,255,$stars1-opacity) 99%, transparent 100%),
              radial-gradient($stars1-size $stars1-size at 22% 72%, rgba(255,230,255,$stars1-opacity) 99%, transparent 100%),
              radial-gradient($stars1-size $stars1-size at 48% 78%, rgba(255,220,255,$stars1-opacity) 99%, transparent 100%),
              radial-gradient($stars1-size $stars1-size at 72% 75%, rgba(255,245,255,$stars1-opacity) 99%, transparent 100%),
              radial-gradient($stars1-size $stars1-size at 93% 81%, rgba(255,255,255,$stars1-opacity) 99%, transparent 100%);
    }

    &--far {
      background-image:
              radial-gradient($stars2-size $stars2-size at 5% 8%, rgba(255,255,255,$stars2-opacity) 99%, transparent 100%),
              radial-gradient($stars2-size $stars2-size at 28% 9%, rgba(255,245,255,$stars2-opacity) 99%, transparent 100%),
              radial-gradient($stars2-size $stars2-size at 53% 9%, rgba(255,255,255,$stars2-opacity) 99%, transparent 100%),
              radial-gradient($stars2-size $stars2-size at 76% 10%, rgba(255,235,255,$stars2-opacity) 99%, transparent 100%),
              radial-gradient($stars2-size $stars2-size at 10% 44%, rgba(255,255,255,$stars2-opacity) 99%, transparent 100%),
              radial-gradient($stars2-size $stars2-size at 37% 46%, rgba(255,245,255,$stars2-opacity) 99%, transparent 100%),
              radial-gradient($stars2-size $stars2-size at 63% 48%, rgba(255,255,255,$stars2-opacity) 99%, transparent 100%),
              radial-gradient($stars2-size $stars2-size at 86% 50%, rgba(255,235,255,$stars2-opacity) 99%, transparent 100%),
              radial-gradient($stars2-size $stars2-size at 31% 82%, rgba(255,245,255,$stars2-opacity) 99%, transparent 100%),
              radial-gradient($stars2-size $stars2-size at 73% 88%, rgba(255,240,255,$stars2-opacity) 99%, transparent 100%);
      opacity: 0.7;
      animation: starsTwinkleSlow 12s ease-in-out infinite alternate;
    }
  }

  .dither {
    position: absolute; inset: -1px;
    z-index: 2; /* под звёздами, над лентами */
    pointer-events: none;
    background-image: $noise-uri;
    background-size: 480px 480px;
    mix-blend-mode: overlay;
    opacity: 0.35;
  }
}

@keyframes auroraDrift {
  0%   { transform: translate3d(0, 0, 0) scale(1); }
  50%  { transform: translate3d(-1.4%, -0.9%, 0) scale(1.025); }
  100% { transform: translate3d(-2.6%, 1.2%, 0) scale(1.05); }
}

@keyframes glowShift {
  0%   { transform: translateX(0%) translateY(0%) scale(1); }
  100% { transform: translateX(-3.5%) translateY(1.8%) scale(1.04); }
}

@keyframes starsTwinkle {
  0%   { opacity: 0.32; }
  50%  { opacity: 0.56; }
  100% { opacity: 0.4; }
}
@keyframes starsTwinkleSlow {
  0%   { opacity: 0.22; }
  50%  { opacity: 0.42; }
  100% { opacity: 0.28; }
}

.aurora--rose { background-color: #0c0710; }

@media (min-resolution: 2dppx) {
  .aurora-bg .dither { opacity: 0.18; background-size: 600px 600px; }
}


//Переменные
$text-color: #ccb1ec;

$font-famaly: roboto;
